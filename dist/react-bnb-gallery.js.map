{"version":3,"file":"react-bnb-gallery.js","sources":["../src/constants.js","../src/shapes/SlideDirectionShape.js","../src/shapes/PhotoShape.js","../src/shapes/PhotosShape.js","../src/defaultPhrases.js","../src/utils/getPhrasePropTypes.js","../src/common/galleryPropTypes.js","../src/utils/noop.js","../src/common/galleryDefaultProps.js","../src/common/imagePropTypes.js","../src/common/imageDefaultProps.js","../src/components/LoadingSpinner.js","../src/components/Image.js","../src/components/GalleryPhoto.js","../src/components/GalleryThumbnail.js","../src/components/GalleryTogglePhotoList.js","../src/utils/calculateThumbnailsContainerDimension.js","../src/utils/calculateThumbnailsLeftScroll.js","../src/components/GalleryCaption.js","../src/components/GalleryControl.js","../src/components/GalleryPrevButton.js","../src/components/GalleryNextButton.js","../src/components/Gallery.js","../src/components/GalleryCloseButton.js","../src/common/opacityValidation.js","../src/utils/getPhotos.js","../node_modules/style-inject/dist/style-inject.es.js","../src/ReactBnbGallery.js"],"sourcesContent":["export const DIRECTION_PREV = 'prev';\nexport const DIRECTION_NEXT = 'next';\n\nexport const POINTER_TYPE_TOUCH = 'touch';\nexport const POINTER_TYPE_PEN = 'pen';\n\nexport const FORWARDS = 'forwards';\nexport const BACKWARDS = 'backwards';\n\nexport const ARROW_LEFT_KEYCODE = 37;\nexport const ARROW_RIGHT_KEYCODE = 39;\nexport const ESC_KEYCODE = 27;\nexport const ENTER_KEYCODE = 13;\nexport const SPACE_KEYCODE = 32;\n\nexport const TOUCHEVENT_COMPAT_WAIT = 500;\nexport const SWIPE_THRESHOLD = 40;\n\nexport const THUMBNAIL_WIDTH = 100;\nexport const THUMBNAIL_HEIGHT = 67;\nexport const THUMBNAIL_OFFSET = 10;\n\nexport const DEFAULT_OPACITY = 1;\nexport const DEFAULT_COLOR = 'rgba(0,0,0,1)';\nexport const NORMAL_COLOR = 'rgba(255,255,255,1)';\nexport const INVERSE_COLOR = 'rgba(1,1,1,1)';\nexport const DEFAULT_Z_INDEX = 2000;\n\nexport const defaultPhotoProps = {\n  photo: undefined,\n  number: undefined,\n  caption: undefined,\n  subcaption: undefined,\n  thumbnail: undefined,\n};\n","import PropTypes from 'prop-types';\n\nimport {\n  FORWARDS,\n  BACKWARDS,\n} from '../constants';\n\nexport default PropTypes.oneOf([FORWARDS, BACKWARDS]);\n","import PropTypes from 'prop-types';\n\nexport default PropTypes.shape({\n  photo: PropTypes.string.isRequired,\n  number: PropTypes.number,\n  caption: PropTypes.string,\n  subcaption: PropTypes.string,\n  thumbnail: PropTypes.string,\n});\n","import PropTypes from 'prop-types';\n\nimport PhotoShape from './PhotoShape';\n\nexport default PropTypes.oneOfType([\n  PropTypes.arrayOf(PropTypes.string.isRequired),\n  PropTypes.arrayOf(PhotoShape),\n]);\n","const noPhotosProvided = 'No photos to show';\nconst showPhotoList = 'Show photo list';\nconst hidePhotoList = 'Hide photo list';\n\nexport default {\n  noPhotosProvided,\n  showPhotoList,\n  hidePhotoList,\n};\n","import PropTypes from 'prop-types';\n\nexport default function defaultPhrases() {\n  return Object.keys(defaultPhrases)\n    .reduce((phrases, key) => ({\n      ...phrases,\n      [key]: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.func,\n        PropTypes.node,\n      ]),\n    }), {});\n}\n","import PropTypes from 'prop-types';\n\nimport {\n  forbidExtraProps,\n  nonNegativeInteger,\n} from './prop-types';\n\nimport SlideDirectionShape from '../shapes/SlideDirectionShape';\nimport PhotosShape from '../shapes/PhotosShape';\n\nimport defaultPhrases from '../defaultPhrases';\nimport getPhrasePropTypes from '../utils/getPhrasePropTypes';\n\nexport default forbidExtraProps({\n  activePhotoIndex: nonNegativeInteger,\n  activePhotoPressed: PropTypes.func,\n  direction: SlideDirectionShape,\n  nextButtonPressed: PropTypes.func,\n  prevButtonPressed: PropTypes.func,\n  showThumbnails: PropTypes.bool,\n  photos: PhotosShape,\n  preloadSize: nonNegativeInteger,\n  wrap: PropTypes.bool,\n  phrases: PropTypes.shape(getPhrasePropTypes(defaultPhrases)),\n  light: PropTypes.bool,\n});\n","export default () => {};\n","import noop from '../utils/noop';\nimport defaultPhrases from '../defaultPhrases';\n\nimport { FORWARDS } from '../constants';\n\nexport default {\n  activePhotoIndex: 0,\n  activePhotoPressed: noop,\n  direction: FORWARDS,\n  nextButtonPressed: noop,\n  prevButtonPressed: noop,\n  showThumbnails: true,\n  photos: [],\n  preloadSize: 5,\n  wrap: false,\n  phrases: defaultPhrases,\n  light: false,\n};\n","import PropTypes from 'prop-types';\n\nimport { forbidExtraProps } from './prop-types';\n\nexport default forbidExtraProps({\n  onLoad: PropTypes.func,\n  onError: PropTypes.func,\n});\n","import noop from '../utils/noop';\n\nexport default {\n  onLoad: noop,\n  onError: noop,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { forbidExtraProps } from '../common/prop-types';\n\nconst propTypes = forbidExtraProps({\n  show: PropTypes.bool,\n});\n\nconst defaultProps = {\n  show: true,\n};\n\nconst LoadingSpinner = ({ show }) => (show && (\n  <div className=\"loading-spinner\" />\n));\n\nLoadingSpinner.propTypes = propTypes;\nLoadingSpinner.defaultProps = defaultProps;\n\nexport default LoadingSpinner;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport classnames from 'classnames';\n\nimport LoadingSpinner from './LoadingSpinner';\n\nimport {\n  imagePropTypes,\n  imageDefaultProps,\n} from '../common';\nimport { forbidExtraProps } from '../common/prop-types';\n\nconst propTypes = forbidExtraProps({\n  ...imagePropTypes,\n  alt: PropTypes.string.isRequired,\n  src: PropTypes.string.isRequired,\n  style: PropTypes.object,\n  className: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.array,\n  ]),\n});\n\nconst defaultProps = {\n  ...imageDefaultProps,\n  style: null,\n  className: null,\n  alt: '',\n};\n\nconst defaultState = {\n  loading: true,\n  withError: false,\n};\n\nclass Image extends Component {\n  constructor(props) {\n    super(props);\n    this.state = defaultState;\n    this.onLoad = this.onLoad.bind(this);\n    this.onError = this.onError.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.src !== this.props.src) {\n      this.setState(defaultState);\n    }\n  }\n\n  onLoad() {\n    const { onLoad } = this.props;\n    // wait a bit to show the final picture\n    setTimeout(() => {\n      onLoad();\n      this.setState({\n        loading: false,\n        withError: false,\n      });\n    }, 100);\n  }\n\n  onError() {\n    const { onError } = this.props;\n    onError();\n    this.setState({\n      loading: false,\n      withError: true,\n    });\n  }\n\n  renderImage() {\n    const {\n      alt,\n      src,\n      style,\n      className,\n    } = this.props;\n\n    const {\n      loading,\n      withError,\n    } = this.state;\n\n    const classNames = [\n      className,\n      'media-image',\n    ];\n\n    const components = [];\n\n    // the loading spinner\n    // TODO: make this 'LoadingSpinner' component customizable\n    if (loading) {\n      components.push(<LoadingSpinner key=\".pictureLoadingSpinner\" />);\n    }\n\n    // if no loading, then return the\n    // picture only if no error ocurred\n    if (!withError) {\n      components.push(<img\n        alt={alt}\n        key=\".pictureComponent\"\n        className={classnames(classNames)}\n        onLoad={this.onLoad}\n        onError={this.onError}\n        src={src}\n        style={style}\n      />);\n    }\n\n    // TODO: show a custom message indicating the\n    // error ocurred while loading the picture\n\n    return components;\n  }\n\n  render() {\n    const {\n      loading,\n    } = this.state;\n\n    const wrapperClassNames = [\n      'picture',\n      loading && 'loading',\n    ];\n\n    // render the picture element\n    const picture = this.renderImage();\n\n    return (\n      <div className={classnames(wrapperClassNames)}>\n        {picture}\n      </div>\n    );\n  }\n}\n\nImage.propTypes = propTypes;\nImage.defaultProps = defaultProps;\n\nexport default Image;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport omit from 'lodash/omit';\nimport classnames from 'classnames';\n\nimport Image from './Image';\nimport PhotoShape from '../shapes/PhotoShape';\n\nimport {\n  imagePropTypes,\n  imageDefaultProps,\n} from '../common';\nimport { forbidExtraProps } from '../common/prop-types';\nimport noop from '../utils/noop';\n\nconst propTypes = forbidExtraProps({\n  ...imagePropTypes,\n  photo: PhotoShape,\n  onPress: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func,\n});\n\nconst defaultProps = {\n  ...imageDefaultProps,\n  photo: null,\n  onPress: noop,\n  onTouchStart: noop,\n  onTouchMove: noop,\n  onTouchEnd: noop,\n};\n\nclass GalleryPhoto extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.onPress = this.onPress.bind(this);\n  }\n\n  onPress() {\n    const { onPress } = this.props;\n    onPress();\n  }\n\n  renderPhoto() {\n    const {\n      photo,\n      onTouchStart,\n      onTouchMove,\n      onTouchEnd,\n      ...rest\n    } = this.props;\n\n    if (!photo) {\n      return null;\n    }\n\n    const imageProps = omit(rest, [\n      'onPress',\n    ]);\n\n    return (\n      <button\n        type=\"button\"\n        onClick={this.onPress}\n        className=\"photo-button\"\n        onTouchStart={onTouchStart}\n        onTouchMove={onTouchMove}\n        onTouchEnd={onTouchEnd}\n      >\n        <Image\n          alt={photo.caption || ''}\n          className=\"photo\"\n          src={photo.photo}\n          {...imageProps}\n        />\n      </button>\n    );\n  }\n\n  render() {\n    const className = classnames(\n      'gallery-media-photo',\n      'gallery-media-photo--block',\n      'gallery-media-cover',\n    );\n\n    const photoRendered = this.renderPhoto();\n\n    return (\n      <ul className=\"gallery-images--ul\">\n        <li className={className}>\n          {photoRendered}\n        </li>\n      </ul>\n    );\n  }\n}\n\nGalleryPhoto.propTypes = propTypes;\nGalleryPhoto.defaultProps = defaultProps;\n\nexport default GalleryPhoto;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport classnames from 'classnames';\n\nimport Image from './Image';\nimport PhotoShape from '../shapes/PhotoShape';\n\nimport {\n  forbidExtraProps,\n  nonNegativeInteger,\n} from '../common/prop-types';\nimport noop from '../utils/noop';\n\nimport {\n  THUMBNAIL_WIDTH,\n  THUMBNAIL_HEIGHT,\n} from '../constants';\n\nconst thumbnailStyle = {\n  width: THUMBNAIL_WIDTH,\n  height: THUMBNAIL_HEIGHT,\n};\n\nconst propTypes = forbidExtraProps({\n  active: PropTypes.bool,\n  photo: PhotoShape,\n  onPress: PropTypes.func,\n  number: nonNegativeInteger,\n});\n\nconst defaultProps = {\n  active: false,\n  photo: null,\n  onPress: noop,\n  number: 0,\n};\n\nclass GalleryThumbnail extends PureComponent {\n  render() {\n    const {\n      active,\n      photo,\n      onPress,\n      number,\n    } = this.props;\n\n    const className = classnames(\n      'thumbnail-button',\n      active && 'active',\n    );\n\n    return (\n      <button\n        type=\"button\"\n        aria-label={photo.caption}\n        className={className}\n        data-photo-index={number}\n        onClick={onPress}\n        disabled={false}\n      >\n        <Image\n          alt={photo.caption}\n          src={photo.thumbnail || photo.photo}\n          className=\"thumbnail\"\n          style={thumbnailStyle}\n        />\n      </button>\n    );\n  }\n}\n\nGalleryThumbnail.propTypes = propTypes;\nGalleryThumbnail.defaultProps = defaultProps;\n\nexport default GalleryThumbnail;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport classnames from 'classnames';\n\nimport defaultPhrases from '../defaultPhrases';\nimport getPhrasePropTypes from '../utils/getPhrasePropTypes';\n\nimport { forbidExtraProps } from '../common/prop-types';\nimport noop from '../utils/noop';\n\nconst propTypes = forbidExtraProps({\n  isOpened: PropTypes.bool,\n  onPress: PropTypes.func,\n  phrases: PropTypes.shape(getPhrasePropTypes(defaultPhrases)),\n});\n\nconst defaultProps = {\n  isOpened: true,\n  onPress: noop,\n  phrases: defaultPhrases,\n};\n\nclass GalleryTogglePhotoList extends PureComponent {\n  render() {\n    const {\n      isOpened,\n      onPress,\n      phrases: {\n        showPhotoList: showLabel,\n        hidePhotoList: hideLabel,\n      },\n    } = this.props;\n\n    const label = isOpened ? hideLabel : showLabel;\n\n    const className = classnames(\n      'gallery-thumbnails--toggle',\n      isOpened ? 'hide' : 'open',\n    );\n\n    return (\n      <button\n        type=\"button\"\n        className={className}\n        onClick={onPress}\n      >\n        {label}\n      </button>\n    );\n  }\n}\n\nGalleryTogglePhotoList.propTypes = propTypes;\nGalleryTogglePhotoList.defaultProps = defaultProps;\n\nexport default GalleryTogglePhotoList;\n","import {\n  THUMBNAIL_WIDTH,\n  THUMBNAIL_OFFSET,\n} from '../constants';\n\nexport default function calculateThumbnailsContainerDimension(total) {\n  return (THUMBNAIL_WIDTH * total) + ((THUMBNAIL_OFFSET * total) - THUMBNAIL_OFFSET);\n}\n","import calculateThumbnailsContainerDimension from './calculateThumbnailsContainerDimension';\n\nimport {\n  THUMBNAIL_WIDTH,\n  THUMBNAIL_OFFSET,\n} from '../constants';\n\nexport default function calculateThumbnailsLeftScroll(current, total, bounding) {\n  const half = (bounding.width / 2) - (THUMBNAIL_WIDTH / 2);\n  const thumbnailsOffset = ((current * THUMBNAIL_WIDTH) + (current * THUMBNAIL_OFFSET)) - half;\n  let calculatedScrollLeft = 0;\n\n  if (thumbnailsOffset < 0) {\n    return calculatedScrollLeft;\n  }\n\n  const thumbnailsPerRow = bounding.width / (THUMBNAIL_WIDTH + THUMBNAIL_OFFSET);\n  const thumbnailsHalf = Math.round(thumbnailsPerRow / 2);\n  const thumbnailsLeft = total - (current + 1);\n\n  if (thumbnailsLeft < thumbnailsHalf) {\n    calculatedScrollLeft = calculateThumbnailsContainerDimension(total) - bounding.width;\n  } else {\n    calculatedScrollLeft = thumbnailsOffset;\n  }\n\n  return -Math.abs(calculatedScrollLeft);\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport classnames from 'classnames';\nimport noop from '../utils/noop';\n\nimport GalleryThumbnail from './GalleryThumbnail';\nimport GalleryTogglePhotoList from './GalleryTogglePhotoList';\n\nimport calculateThumbnailsContainerDimension from '../utils/calculateThumbnailsContainerDimension';\nimport calculateThumbnailsLeftScroll from '../utils/calculateThumbnailsLeftScroll';\n\nimport defaultPhrases from '../defaultPhrases';\nimport getPhrasePropTypes from '../utils/getPhrasePropTypes';\n\nimport {\n  forbidExtraProps,\n  nonNegativeInteger,\n} from '../common/prop-types';\n\nimport PhotosShape from '../shapes/PhotosShape';\n\nconst propTypes = forbidExtraProps({\n  showThumbnails: PropTypes.bool,\n  current: nonNegativeInteger,\n  photos: PhotosShape,\n  onPress: PropTypes.func,\n  phrases: PropTypes.shape(getPhrasePropTypes(defaultPhrases)),\n});\n\nconst defaultProps = {\n  showThumbnails: true,\n  current: 0,\n  photos: [],\n  onPress: noop,\n  phrases: defaultPhrases,\n};\n\nclass GalleryCaption extends PureComponent {\n  constructor(props) {\n    super(props);\n    const {\n      showThumbnails,\n      photos,\n    } = this.props;\n\n    this.state = {\n      showThumbnails,\n    };\n\n    this.thumbnailsWrapperRef = null;\n    this.thumbnailsListRef = null;\n    this.hasMoreThanOnePhoto = photos.length > 1;\n    this.onThumbnailPress = this.onThumbnailPress.bind(this);\n    this.setGalleryFigcaptionRef = this.setGalleryFigcaptionRef.bind(this);\n    this.setGalleryThubmanilsRef = this.setGalleryThubmanilsRef.bind(this);\n    this.toggleThumbnails = this.toggleThumbnails.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    const { current } = this.props;\n    if (current !== prevProps.current) {\n      this.setThumbnailsWrapperScrollLeft(current);\n    }\n  }\n\n  onThumbnailPress(event) {\n    const {\n      onPress,\n      photos,\n    } = this.props;\n    const index = parseInt(event.currentTarget.dataset.photoIndex, 10);\n    if (index >= 0 && index <= photos.length - 1) {\n      onPress(index);\n    }\n  }\n\n  setThumbnailsWrapperScrollLeft(current) {\n    const { photos } = this.props;\n    const bounding = this.thumbnailsWrapperRef.getBoundingClientRect();\n    const scrollLeft = calculateThumbnailsLeftScroll(current, photos.length, bounding);\n    this.thumbnailsListRef.style.marginLeft = `${scrollLeft}px`;\n  }\n\n  getPhotoByIndex(index) {\n    const { photos } = this.props;\n    return photos[index];\n  }\n\n  setGalleryFigcaptionRef(element) {\n    this.thumbnailsWrapperRef = element;\n  }\n\n  setGalleryThubmanilsRef(element) {\n    this.thumbnailsListRef = element;\n  }\n\n  toggleThumbnails() {\n    this.setState(prevState => ({\n      showThumbnails: !prevState.showThumbnails,\n    }));\n  }\n\n  renderThumbnail(photo, index, onPress) {\n    const { current } = this.props;\n\n    return (\n      <GalleryThumbnail\n        active={index === current}\n        photo={photo}\n        onPress={onPress}\n        number={index}\n      />\n    );\n  }\n\n  render() {\n    const {\n      current,\n      photos,\n      phrases,\n    } = this.props;\n\n    const {\n      showThumbnails,\n    } = this.state;\n\n    const className = classnames(\n      'gallery-figcaption',\n      !showThumbnails && 'hide',\n    );\n\n    const currentPhoto = this.getPhotoByIndex(current);\n    const captionThumbnailsWrapperWidth = calculateThumbnailsContainerDimension(photos.length);\n\n    return (\n      <figcaption className={className}>\n        <div className=\"gallery-figcaption--content\">\n          <div className=\"gallery-figcaption--inner\">\n            <div className=\"gallery-figcaption--info\">\n              <div className=\"caption-left\">\n                {currentPhoto.caption && (\n                  <h3 className=\"photo-caption\">\n                    {currentPhoto.caption}\n                  </h3>\n                )}\n                {currentPhoto.subcaption && (\n                  <p className=\"photo-subcaption\">\n                    {currentPhoto.subcaption}\n                  </p>\n                )}\n              </div>\n              {this.hasMoreThanOnePhoto && (\n                <div className=\"caption-right\">\n                  <GalleryTogglePhotoList\n                    phrases={phrases}\n                    isOpened={showThumbnails}\n                    onPress={this.toggleThumbnails}\n                  />\n                </div>\n              )}\n            </div>\n            {this.hasMoreThanOnePhoto && (\n              <div\n                className=\"gallery-figcaption--thumbnails\"\n                aria-hidden={false}\n                ref={this.setGalleryFigcaptionRef}\n              >\n                <div\n                  className=\"caption-thumbnails\"\n                  style={{ width: captionThumbnailsWrapperWidth }}\n                >\n                  <ul\n                    className=\"thumbnails-list\"\n                    ref={this.setGalleryThubmanilsRef}\n                  >\n                    {photos.map((photo, index) => (\n                      <li key={photo.photo}>\n                        {this.renderThumbnail(photo, index, this.onThumbnailPress)}\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </figcaption>\n    );\n  }\n}\n\nGalleryCaption.propTypes = propTypes;\nGalleryCaption.defaultProps = defaultProps;\n\nexport default GalleryCaption;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport classnames from 'classnames';\n\nimport { forbidExtraProps } from '../common/prop-types';\nimport noop from '../utils/noop';\n\nimport {\n  NORMAL_COLOR,\n  INVERSE_COLOR,\n} from '../constants';\n\nconst svgAttributes = {\n  viewBox: '0 0 18 18',\n  role: 'presentation',\n  focusable: false,\n  'aria-hidden': true,\n};\n\nconst controlStyle = {\n  height: '2.8em',\n  width: '2.8em',\n  fill: NORMAL_COLOR,\n};\n\nconst controlStyleLight = {\n  fill: INVERSE_COLOR,\n};\n\nconst propTypes = forbidExtraProps({\n  arrow: PropTypes.string,\n  onPress: PropTypes.func,\n  label: PropTypes.string,\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool,\n});\n\nconst defaultProps = {\n  arrow: null,\n  onPress: noop,\n  label: '',\n  className: null,\n  disabled: false,\n  light: false,\n};\n\nclass GalleryControl extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.onButtonPress = this.onButtonPress.bind(this);\n  }\n\n  onButtonPress() {\n    const { onPress } = this.props;\n    onPress();\n    return false;\n  }\n\n  render() {\n    const {\n      arrow,\n      label,\n      className,\n      disabled,\n      light,\n    } = this.props;\n\n    return (\n      <button\n        type=\"button\"\n        className={classnames('gallery-control', className)}\n        onClick={this.onButtonPress}\n        disabled={disabled}\n        aria-label={label}\n      >\n        <svg\n          {...svgAttributes}\n          style={{\n            ...controlStyle,\n            ...(light && controlStyleLight),\n          }}\n        >\n          <path\n            d={arrow}\n            fillRule=\"evenodd\"\n          />\n        </svg>\n      </button>\n    );\n  }\n}\n\nGalleryControl.propTypes = propTypes;\nGalleryControl.defaultProps = defaultProps;\n\nexport default GalleryControl;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport GalleryControl from './GalleryControl';\n\nimport { forbidExtraProps } from '../common/prop-types';\nimport noop from '../utils/noop';\n\nconst PREV_ARROW = 'm13.7 16.29a1 1 0 1 1 -1.42 1.41l-8-8a1 1 0 0 1 0-1.41l8-8a1 1 0 1 1 1.42 1.41l-7.29 7.29z';\n\nconst propTypes = forbidExtraProps({\n  onPress: PropTypes.func,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool,\n});\n\nconst defaultProps = {\n  onPress: noop,\n  disabled: false,\n  light: false,\n};\n\nclass GalleryPrevButton extends PureComponent {\n  render() {\n    const {\n      onPress,\n      disabled,\n      light,\n    } = this.props;\n\n    return (\n      <GalleryControl\n        className=\"gallery-control--prev\"\n        onPress={onPress}\n        arrow={PREV_ARROW}\n        disabled={disabled}\n        light={light}\n      />\n    );\n  }\n}\n\nGalleryPrevButton.propTypes = propTypes;\nGalleryPrevButton.defaultProps = defaultProps;\n\nexport default GalleryPrevButton;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport GalleryControl from './GalleryControl';\n\nimport { forbidExtraProps } from '../common/prop-types';\nimport noop from '../utils/noop';\n\nconst NEXT_ARROW = 'm4.29 1.71a1 1 0 1 1 1.42-1.41l8 8a1 1 0 0 1 0 1.41l-8 8a1 1 0 1 1 -1.42-1.41l7.29-7.29z';\n\nconst propTypes = forbidExtraProps({\n  onPress: PropTypes.func,\n  disabled: PropTypes.bool,\n  light: PropTypes.bool,\n});\n\nconst defaultProps = {\n  onPress: noop,\n  disabled: false,\n  light: false,\n};\n\nclass GalleryNextButton extends PureComponent {\n  render() {\n    const {\n      onPress,\n      disabled,\n      light,\n    } = this.props;\n\n    return (\n      <GalleryControl\n        className=\"gallery-control--next\"\n        onPress={onPress}\n        arrow={NEXT_ARROW}\n        disabled={disabled}\n        light={light}\n      />\n    );\n  }\n}\n\nGalleryNextButton.propTypes = propTypes;\nGalleryNextButton.defaultProps = defaultProps;\n\nexport default GalleryNextButton;\n","import React, { PureComponent } from 'react';\n\nimport {\n  galleryPropTypes,\n  galleryDefaultProps,\n} from '../common';\n\nimport GalleryPhoto from './GalleryPhoto';\nimport GalleryCaption from './GalleryCaption';\nimport GalleryPrevButton from './GalleryPrevButton';\nimport GalleryNextButton from './GalleryNextButton';\n\nimport {\n  DIRECTION_NEXT,\n  DIRECTION_PREV,\n} from '../constants';\n\nconst propTypes = {\n  ...galleryPropTypes,\n};\n\nconst defaultProps = {\n  ...galleryDefaultProps,\n};\n\nclass Gallery extends PureComponent {\n  constructor(props) {\n    super(props);\n    const {\n      activePhotoIndex,\n      photos,\n      wrap,\n    } = this.props;\n    this.state = {\n      activePhotoIndex,\n      hidePrevButton: wrap && activePhotoIndex === 0,\n      hideNextButton: wrap && activePhotoIndex === photos.length - 1,\n      controlsDisabled: true,\n      touchStartInfo: null,\n      touchEndInfo: null,\n      touchMoved: false,\n    };\n    this.lastPreloadIndex = 0;\n    this.preloadedPhotos = [];\n    this.hasPhotos = photos.length > 0;\n    this.hasMoreThanOnePhoto = photos.length > 1;\n    this.move = this.move.bind(this);\n    this.prev = this.prev.bind(this);\n    this.next = this.next.bind(this);\n    this.onPhotoLoad = this.onPhotoLoad.bind(this);\n    this.onPhotoError = this.onPhotoError.bind(this);\n    this.onPhotoPress = this.onPhotoPress.bind(this);\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchMove = this.onTouchMove.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n    this.onThumbnailPress = this.onThumbnailPress.bind(this);\n    this.onPrevButtonPress = this.onPrevButtonPress.bind(this);\n    this.onNextButtonPress = this.onNextButtonPress.bind(this);\n  }\n\n  onNextButtonPress() {\n    const { nextButtonPressed } = this.props;\n    this.next();\n    nextButtonPressed();\n  }\n\n  onPrevButtonPress() {\n    const { prevButtonPressed } = this.props;\n    this.prev();\n    prevButtonPressed();\n  }\n\n  onPhotoLoad() {\n    return this.setState({ controlsDisabled: false });\n  }\n\n  onPhotoError() {\n    return this.setState({ controlsDisabled: false });\n  }\n\n  onPhotoPress() {\n    const { activePhotoPressed } = this.props;\n    this.move(DIRECTION_NEXT);\n    activePhotoPressed();\n  }\n\n  onTouchStart(event) {\n    this.setState({\n      touchStartInfo: event.targetTouches[0],\n    });\n  }\n\n  onTouchMove(event) {\n    this.setState({\n      touchMoved: true,\n      touchEndInfo: event.targetTouches[0],\n    });\n  }\n\n  onTouchEnd() {\n    const { touchStartInfo, touchEndInfo, touchMoved } = this.state;\n\n    if (touchMoved) {\n      if (touchStartInfo.screenX < touchEndInfo.screenX) {\n        this.onPrevButtonPress();\n      } else if (touchStartInfo.screenX > touchEndInfo.screenX) {\n        this.onNextButtonPress();\n      }\n    }\n\n    this.setState({ touchMoved: false });\n  }\n\n  onThumbnailPress(index) {\n    this.to(index);\n  }\n\n  getPhotoByIndex(index) {\n    const { photos } = this.props;\n    return photos[index];\n  }\n\n  getItemByDirection(direction, activeIndex) {\n    const { photos, wrap } = this.props;\n\n    const isNextDirection = direction === DIRECTION_NEXT;\n    const isPrevDirection = direction === DIRECTION_PREV;\n\n    const lastItemIndex = photos.length - 1;\n    const isGoingToWrap = (isPrevDirection && activeIndex === 0)\n      || (isNextDirection && activeIndex === lastItemIndex);\n\n    if (isGoingToWrap && wrap) {\n      return activeIndex;\n    }\n\n    const delta = isPrevDirection ? -1 : 1;\n    const itemIndex = (activeIndex + delta) % photos.length;\n    return itemIndex === -1 ? photos.length - 1 : itemIndex;\n  }\n\n  to(index) {\n    const { photos } = this.props;\n    const { activePhotoIndex } = this.state;\n\n    if ((index > photos.length - 1 || index < 0) || activePhotoIndex === index) {\n      return; // nothing to do\n    }\n\n    const direction = index > activePhotoIndex ? DIRECTION_NEXT : DIRECTION_PREV;\n\n    this.move(direction, index);\n  }\n\n  move(direction, index = false) {\n    const { activePhotoIndex } = this.state;\n\n    const nextElementIndex = index !== false\n      ? index\n      : this.getItemByDirection(direction, activePhotoIndex);\n\n    this.wrapCheck(direction, nextElementIndex);\n\n    this.setState({\n      activePhotoIndex: nextElementIndex,\n    });\n  }\n\n  next() {\n    return this.move(DIRECTION_NEXT);\n  }\n\n  prev() {\n    return this.move(DIRECTION_PREV);\n  }\n\n  wrapCheck(direction, nextElementIndex) {\n    const {\n      photos,\n      wrap,\n    } = this.props;\n\n    if (wrap) {\n      this.setState({\n        hideNextButton: nextElementIndex === photos.length - 1,\n        hidePrevButton: nextElementIndex === 0,\n      });\n    }\n  }\n\n  renderControls() {\n    const {\n      light,\n    } = this.props;\n\n    const {\n      hidePrevButton,\n      hideNextButton,\n      controlsDisabled,\n    } = this.state;\n\n    const controls = [];\n\n    if (this.hasMoreThanOnePhoto) {\n      // previous control\n      if (!hidePrevButton) {\n        controls.push((\n          <GalleryPrevButton\n            key=\".prevControl\"\n            disabled={controlsDisabled}\n            onPress={this.onPrevButtonPress}\n            light={light}\n          />\n        ));\n      }\n\n      // next control\n      if (!hideNextButton) {\n        controls.push((\n          <GalleryNextButton\n            key=\".nextControl\"\n            disabled={controlsDisabled}\n            onPress={this.onNextButtonPress}\n            light={light}\n          />\n        ));\n      }\n    }\n\n    return controls;\n  }\n\n  renderPreloadPhotos() {\n    const { photos } = this.props;\n\n    return photos.map(photo => (\n      <img\n        key={photo.photo}\n        alt={photo.photo}\n        src={photo.photo}\n      />\n    ));\n  }\n\n  render() {\n    const {\n      photos,\n      showThumbnails,\n      phrases,\n    } = this.props;\n\n    const {\n      noPhotosProvided: emptyMessage,\n    } = phrases;\n\n    const {\n      activePhotoIndex,\n    } = this.state;\n\n    // preload photos\n    const galleryModalPreloadPhotos = this.renderPreloadPhotos();\n\n    const controls = this.renderControls();\n\n    const current = this.getPhotoByIndex(activePhotoIndex);\n\n    return (\n      <div className=\"gallery\">\n        <div className=\"gallery-modal--preload\">\n          {galleryModalPreloadPhotos}\n        </div>\n        <div className=\"gallery-main\">\n          {controls}\n          <div className=\"gallery-photos\">\n            {this.hasPhotos ? (\n              <div className=\"gallery-photo\">\n                <div className=\"gallery-photo--current\">\n                  <GalleryPhoto\n                    photo={current}\n                    onLoad={this.onPhotoLoad}\n                    onError={this.onPhotoError}\n                    onPress={this.onPhotoPress}\n                    onTouchStart={this.onTouchStart}\n                    onTouchMove={this.onTouchMove}\n                    onTouchEnd={this.onTouchEnd}\n                  />\n                </div>\n              </div>\n            ) : (\n              <div className=\"gallery-empty\">\n                {emptyMessage}\n              </div>\n            )}\n          </div>\n        </div>\n        {showThumbnails && current && (\n          <GalleryCaption\n            phrases={phrases}\n            current={activePhotoIndex}\n            photos={photos}\n            onPress={this.onThumbnailPress}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nGallery.propTypes = propTypes;\nGallery.defaultProps = defaultProps;\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { forbidExtraProps } from '../common/prop-types';\nimport noop from '../utils/noop';\n\nimport {\n  NORMAL_COLOR,\n  INVERSE_COLOR,\n} from '../constants';\n\nconst CLOSE_PATH = 'm23.25 24c-.19 0-.38-.07-.53-.22l-10.72-10.72-10.72 10.72c-.29.29-.77.29-1.06 0s-.29-.77 0-1.06l10.72-10.72-10.72-10.72c-.29-.29-.29-.77 0-1.06s.77-.29 1.06 0l10.72 10.72 10.72-10.72c.29-.29.77-.29 1.06 0s .29.77 0 1.06l-10.72 10.72 10.72 10.72c.29.29.29.77 0 1.06-.15.15-.34.22-.53.22';\n\nconst buttonStyle = {\n  height: '2em',\n  width: '2em',\n  display: 'block',\n  fill: NORMAL_COLOR,\n};\n\nconst buttonStyleLight = {\n  fill: INVERSE_COLOR,\n};\n\nconst buttonProps = {\n  viewBox: '0 0 24 24',\n  role: 'img',\n  focusable: false,\n};\n\nconst propTypes = forbidExtraProps({\n  onPress: PropTypes.func,\n  light: PropTypes.bool,\n});\n\nconst defaultProps = {\n  onPress: noop,\n  light: false,\n};\n\nconst GalleryCloseButton = ({\n  onPress,\n  light,\n}) => (\n  <button\n    onClick={onPress}\n    className=\"gallery-close\"\n    type=\"button\"\n    aria-busy={false}\n  >\n    <svg\n      {...buttonProps}\n      style={{\n        ...buttonStyle,\n        ...(light && buttonStyleLight),\n      }}\n    >\n      <path d={CLOSE_PATH} fillRule=\"evenodd\" />\n    </svg>\n  </button>\n);\n\nGalleryCloseButton.propTypes = propTypes;\nGalleryCloseButton.defaultProps = defaultProps;\n\nexport default GalleryCloseButton;\n","const MIN = 0;\n\nconst MAX = 1;\n\n// eslint-disable-next-line consistent-return\nexport default function opacityValidation(props, propName) {\n  if (props[propName] < MIN || props[propName] > MAX) {\n    return new Error('Invalid value for opacity');\n  }\n}\n","import { defaultPhotoProps } from '../constants';\n\nexport function processPhoto(photo, index) {\n  return Object.assign({}, defaultPhotoProps, typeof photo === 'string'\n    ? { number: (index + 1), photo }\n    : { ...photo, number: (index + 1) });\n}\n\nexport default function getPhotos(photos) {\n  return photos.map(processPhoto);\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport FocusTrap from 'focus-trap-react';\nimport { Portal } from 'react-portal';\n\nimport omit from 'lodash/omit';\nimport classnames from 'classnames';\n\nimport Gallery from './components/Gallery';\nimport GalleryCloseButton from './components/GalleryCloseButton';\n\nimport opacityValidation from './common/opacityValidation';\nimport noop from './utils/noop';\nimport getPhotos from './utils/getPhotos';\n\nimport {\n  ARROW_LEFT_KEYCODE,\n  ARROW_RIGHT_KEYCODE,\n  ESC_KEYCODE,\n  DEFAULT_OPACITY,\n  DEFAULT_COLOR,\n  DEFAULT_Z_INDEX,\n} from './constants';\n\nimport {\n  galleryPropTypes,\n  galleryDefaultProps,\n} from './common';\n\nimport {\n  forbidExtraProps,\n  nonNegativeInteger,\n} from './common/prop-types';\n\nimport './styles.css';\n\nconst propTypes = forbidExtraProps({\n  ...galleryPropTypes,\n  leftKeyPressed: PropTypes.func,\n  onClose: PropTypes.func,\n  rightKeyPressed: PropTypes.func,\n  show: PropTypes.bool,\n  keyboard: PropTypes.bool,\n  opacity: opacityValidation,\n  backgroundColor: PropTypes.string,\n  zIndex: nonNegativeInteger,\n});\n\nconst defaultProps = {\n  ...galleryDefaultProps,\n  leftKeyPressed: noop,\n  onClose: noop,\n  rightKeyPressed: noop,\n  show: false,\n  keyboard: true,\n  opacity: DEFAULT_OPACITY,\n  backgroundColor: DEFAULT_COLOR,\n  zIndex: DEFAULT_Z_INDEX,\n};\n\nclass ReactBnbGallery extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      photos: getPhotos(props.photos),\n    };\n    this.close = this.close.bind(this);\n    this.onKeyDown = this.onKeyDown.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.photos !== nextProps.photos) {\n      this.setState({\n        photos: nextProps.photos\n      });\n    }\n  }\n\n  onKeyDown(event) {\n    if (/input|textarea/i.test(event.target.tagName)) {\n      return;\n    }\n\n    switch (event.which) {\n      case ESC_KEYCODE:\n        event.preventDefault();\n        this.close();\n        break;\n\n      case ARROW_LEFT_KEYCODE:\n        event.preventDefault();\n        this.refs.gallery.prev();\n        break;\n\n      case ARROW_RIGHT_KEYCODE:\n        event.preventDefault();\n        this.refs.gallery.next();\n        break;\n\n      default:\n    }\n  }\n\n  getModalOverlayStyles() {\n    const {\n      opacity,\n      backgroundColor,\n    } = this.props;\n\n    return {\n      opacity,\n      backgroundColor,\n    };\n  }\n\n  close() {\n    const { onClose } = this.props;\n    onClose();\n  }\n\n  render() {\n    const {\n      show,\n      phrases,\n      keyboard,\n      light,\n      // abstract the user to use 'zIndex' instead of 'zindex'\n      zIndex: zindex,\n    } = this.props;\n\n    const { photos } = this.state;\n\n    if (!show) {\n      return null; // nothing to return\n    }\n\n    const galleryProps = omit(this.props, [\n      'onClose',\n      'leftKeyPressed',\n      'rightKeyPressed',\n      'show',\n      'photos',\n      'opacity',\n      'backgroundColor',\n      'zIndex',\n      'keyboard',\n    ]);\n\n    const modalProps = {\n      className: classnames([\n        'gallery-modal',\n        light && 'mode-light',\n      ]),\n      role: 'dialog',\n      tabIndex: -1,\n      onKeyDown: keyboard && this.onKeyDown,\n      style: { zIndex: zindex }\n    };\n\n    // modal overlay customization styles\n    const galleryModalOverlayStyles = this.getModalOverlayStyles();\n\n    return (\n      <Portal>\n        <FocusTrap>\n          <div {...modalProps}>\n            <div\n              style={galleryModalOverlayStyles}\n              className=\"gallery-modal--overlay\"\n            />\n            <div className=\"gallery-modal--container\">\n              <div className=\"gallery-modal--table\">\n                <div className=\"gallery-modal--cell\">\n                  <div className=\"gallery-modal--content\">\n                    <div className=\"gallery-modal--close\">\n                      <GalleryCloseButton\n                        onPress={this.close}\n                        light={light}\n                      />\n                    </div>\n                    <div className=\"gallery-content\">\n                      <div className=\"gallery-top\">\n                        <div className=\"gallery-top--inner\" />\n                      </div>\n                      <Gallery\n                        phrases={phrases}\n                        ref='gallery'\n                        photos={photos}\n                        {...galleryProps}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </FocusTrap>\n      </Portal>\n    );\n  }\n}\n\nReactBnbGallery.propTypes = propTypes;\nReactBnbGallery.defaultProps = defaultProps;\n\nexport default ReactBnbGallery;\n"],"names":["DIRECTION_PREV","DIRECTION_NEXT","FORWARDS","BACKWARDS","ARROW_LEFT_KEYCODE","ARROW_RIGHT_KEYCODE","ESC_KEYCODE","THUMBNAIL_WIDTH","THUMBNAIL_HEIGHT","THUMBNAIL_OFFSET","DEFAULT_OPACITY","DEFAULT_COLOR","NORMAL_COLOR","INVERSE_COLOR","DEFAULT_Z_INDEX","defaultPhotoProps","photo","undefined","number","caption","subcaption","thumbnail","PropTypes","oneOf","shape","string","isRequired","oneOfType","arrayOf","PhotoShape","noPhotosProvided","showPhotoList","hidePhotoList","defaultPhrases","Object","keys","reduce","phrases","key","func","node","forbidExtraProps","activePhotoIndex","nonNegativeInteger","activePhotoPressed","direction","SlideDirectionShape","nextButtonPressed","prevButtonPressed","showThumbnails","bool","photos","PhotosShape","preloadSize","wrap","getPhrasePropTypes","light","noop","onLoad","onError","propTypes","show","defaultProps","LoadingSpinner","React","imagePropTypes","alt","src","style","object","className","array","imageDefaultProps","defaultState","loading","withError","Image","props","state","bind","prevProps","prevState","setState","setTimeout","classNames","components","push","classnames","wrapperClassNames","picture","renderImage","Component","onPress","onTouchStart","onTouchMove","onTouchEnd","GalleryPhoto","rest","imageProps","omit","photoRendered","renderPhoto","PureComponent","thumbnailStyle","width","height","active","GalleryThumbnail","isOpened","GalleryTogglePhotoList","showLabel","hideLabel","label","calculateThumbnailsContainerDimension","total","calculateThumbnailsLeftScroll","current","bounding","half","thumbnailsOffset","calculatedScrollLeft","thumbnailsPerRow","thumbnailsHalf","Math","round","thumbnailsLeft","abs","GalleryCaption","thumbnailsWrapperRef","thumbnailsListRef","hasMoreThanOnePhoto","length","onThumbnailPress","setGalleryFigcaptionRef","setGalleryThubmanilsRef","toggleThumbnails","setThumbnailsWrapperScrollLeft","event","index","parseInt","currentTarget","dataset","photoIndex","getBoundingClientRect","scrollLeft","marginLeft","element","currentPhoto","getPhotoByIndex","captionThumbnailsWrapperWidth","map","renderThumbnail","svgAttributes","viewBox","role","focusable","controlStyle","fill","controlStyleLight","arrow","disabled","GalleryControl","onButtonPress","PREV_ARROW","GalleryPrevButton","NEXT_ARROW","GalleryNextButton","galleryPropTypes","galleryDefaultProps","Gallery","hidePrevButton","hideNextButton","controlsDisabled","touchStartInfo","touchEndInfo","touchMoved","lastPreloadIndex","preloadedPhotos","hasPhotos","move","prev","next","onPhotoLoad","onPhotoError","onPhotoPress","onPrevButtonPress","onNextButtonPress","targetTouches","screenX","to","activeIndex","isNextDirection","isPrevDirection","lastItemIndex","isGoingToWrap","delta","itemIndex","nextElementIndex","getItemByDirection","wrapCheck","controls","emptyMessage","galleryModalPreloadPhotos","renderPreloadPhotos","renderControls","CLOSE_PATH","buttonStyle","display","buttonStyleLight","buttonProps","GalleryCloseButton","MIN","MAX","opacityValidation","propName","Error","processPhoto","getPhotos","leftKeyPressed","onClose","rightKeyPressed","keyboard","opacity","backgroundColor","zIndex","ReactBnbGallery","close","onKeyDown","nextProps","test","target","tagName","which","preventDefault","refs","gallery","zindex","galleryProps","modalProps","tabIndex","galleryModalOverlayStyles","getModalOverlayStyles","Portal"],"mappings":"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"}